import{d as j,t as q,aY as B,r as p,S as I,c as D,o as d,U as K,V as O,e as y,f as U,w as C,W as E,u as N,X as P,b as W,Y,Z as $}from"../apps/settings/index.CgAnrKTY.js";import{_ as L}from"./LeadCaptureRecommended.vue_vue_type_style_index_0_lang.OcAz0Unx.js";const Z=j({__name:"DynamicComponents",props:{sectionParent:{type:String,required:!0},sectionChild:{type:String,required:!0},sectionKey:{type:String,required:!0}},emits:["fieldData"],setup(k,{emit:S}){const b=k,{sectionParent:r,sectionChild:s,sectionKey:V}=q(b),f=B.settings;let _=null;typeof f.controls[r.value][s.value]<"u"&&f.controls[r.value][s.value]!==null&&(_=f.controls[r.value][s.value][V.value]);const u=p(_),i=I({controls:u.value}),e=p([]),c=S,h=p([]);typeof u.value<"u"&&u.value!==null&&(i.controls=u.value.filter(t=>typeof t.hide<"u"&&t.hide?!1:(typeof e.value[t.id]<"u"&&(t.default=e.value[t.id]),!0)));const w=t=>{Object.entries(t).forEach(([a,n])=>{e.value[a]=n}),c("fieldData",e.value)},F=(t,a)=>{const n=t;a.type==="checkbox"&&(n.target.value=n.target.checked),e.value[a.id]=n.target.value,c("fieldData",e.value)},g=t=>{let a="",n="";for(const[l,o]of Object.entries(t)){let v=o;a=l,n=v}i.controls=u.value.filter(l=>{if(typeof l.condition<"u"){const o=l.condition.find(v=>v.key===a);return o.value==="yes"&&n==="yes"||o.value==="no"&&n==="no"?(typeof e.value[l.id]<"u"&&(l.default=e.value[l.id]),!0):!1}else return typeof e.value[l.id]<"u"&&(l.default=e.value[l.id]),!0}),h.value[a]=n,e.value[a]=n,c("fieldData",e.value)},x=t=>{i.controls=u.value.filter(a=>typeof a.hide<"u"&&a.hide!==null&&a.hide?!1:(typeof e.value[a.id]<"u"&&e.value[a.id]!==null&&(a.default=e.value[a.id]),!0))};return(t,a)=>(d(!0),D(K,null,O(i.controls,(n,l)=>(d(),D("div",{key:l},[(d(),y($,null,{fallback:C(()=>[W(Y)]),default:C(()=>[(d(),y(E(N(P)(n.type)),{params:n,"conditional-values":h.value,onInput:o=>F(o,n),onFieldData:w,onConditionalData:g,onSelectedCondition:g,onFieldUpdatedData:x},null,40,["params","conditional-values","onInput"]))]),_:2},1024)),n.show_lead_upgrade!=null&&n.show_lead_upgrade?(d(),y(L,{key:0})):U("",!0)]))),128))}});export{Z as _};
