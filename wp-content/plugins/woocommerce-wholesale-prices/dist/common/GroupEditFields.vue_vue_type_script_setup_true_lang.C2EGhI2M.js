import{d as R,t as z,r as p,aa as J,S as K,c as y,o as d,e as o,f as i,u as t,w as m,U as g,V as x,a as V,p as A}from"../apps/settings/index.CgAnrKTY.js";import{I as D,A as P}from"./index.DXb3Kuqg.js";import{S as O,a as I}from"./index.C-xQAXri.js";import{A as Q}from"./index.DY2fw2u5.js";import{A as L}from"./index.9QFLxDwc.js";const W=["innerHTML"],X=["innerHTML"],le=R({__name:"GroupEditFields",props:{editableData:{type:Object,required:!0},fieldValue:{type:[String,Number,Array,Object,Boolean],required:!0},fieldData:{type:Object,required:!0}},emits:["fieldUpdatedData"],setup(T,{emit:S}){var w;const B=T,{editableData:k,fieldValue:H,fieldData:M}=z(B),v=S,u=M.value,n=p((w=u.type)!=null?w:"").value,N=J(n,H.value),a=p(N),f=p(n==="select"?u.options:[]),s=p([]),h=K({check:a.value==="yes"}),j=p(n==="switch"?u.options.yes:""),q=p(n==="switch"?u.options.no:"");n==="select"&&u.multiple&&(a.value=k==null?void 0:k.value[u.id]);const E=()=>{s.value[u.id]=a.value,v("fieldUpdatedData",s.value)},F=r=>{s.value[u.id]=r.target.value,v("fieldUpdatedData",s.value)},U=()=>{s.value[u.id]=Math.abs(a.value),v("fieldUpdatedData",s.value)},b=()=>{s.value[u.id]=a.value+"%",v("fieldUpdatedData",s.value)},C=r=>{a.value=r;let l=f.value[r];Array.isArray(r)&&(l=r.map(e=>f.value[e])),s.value[u.id]=a.value,typeof u.label_id<"u"&&u.label_id!==null&&(s.value[u.label_id]=l),v("fieldUpdatedData",s.value)},G=r=>{a.value=r?"yes":"no",s.value[u.id]=a.value,h.check=r,v("fieldUpdatedData",s.value)};return(r,l)=>(d(),y(g,null,[t(n)==="text"||t(n)==="email"?(d(),o(t(D),{key:0,value:a.value,"onUpdate:value":l[0]||(l[0]=e=>a.value=e),onInput:E},null,8,["value"])):i("",!0),t(n)==="checkbox"?(d(),o(t(D),{key:1,value:a.value,"onUpdate:value":l[1]||(l[1]=e=>a.value=e),onInput:l[2]||(l[2]=e=>F(e))},null,8,["value"])):i("",!0),t(n)==="number"?(d(),o(t(L),{key:2,value:a.value,"onUpdate:value":l[3]||(l[3]=e=>a.value=e),onInput:U,onChange:U},null,8,["value"])):i("",!0),t(n)==="percent"?(d(),o(t(L),{key:3,value:a.value,"onUpdate:value":l[4]||(l[4]=e=>a.value=e),onInput:b,onChange:b},null,8,["value"])):i("",!0),t(n)==="textarea"?(d(),o(t(P),{key:4,value:a.value,"onUpdate:value":l[5]||(l[5]=e=>a.value=e),rows:4},null,8,["value"])):i("",!0),t(n)==="select"&&t(u).multiple?(d(),o(t(I),{key:5,ref:"select",value:a.value,"onUpdate:value":l[6]||(l[6]=e=>a.value=e),mode:"multiple",style:{"max-width":"320px",width:"100%"},onChange:C},{default:m(()=>[(d(!0),y(g,null,x(f.value,(e,c)=>(d(),o(t(O),{key:c,value:c},{default:m(()=>[V("span",{innerHTML:t(A)(e)},null,8,W)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):t(n)==="select"?(d(),o(t(I),{key:6,ref:"select",value:a.value,"onUpdate:value":l[7]||(l[7]=e=>a.value=e),style:{"max-width":"320px",width:"100%"},onChange:C},{default:m(()=>[(d(!0),y(g,null,x(f.value,(e,c)=>(d(),o(t(O),{key:c,value:c},{default:m(()=>[V("span",{innerHTML:t(A)(e)},null,8,X)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])):i("",!0),t(n)==="switch"?(d(),o(t(Q),{key:7,checked:h.check,"onUpdate:checked":l[8]||(l[8]=e=>h.check=e),"checked-children":j.value,"un-checked-children":q.value,onChange:l[9]||(l[9]=e=>G(e))},null,8,["checked","checked-children","un-checked-children"])):i("",!0)],64))}});export{le as _};
