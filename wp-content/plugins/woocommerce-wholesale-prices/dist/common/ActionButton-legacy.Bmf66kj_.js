System.register(["../apps/settings/index-legacy.D_HQ7UHt.js","./index-legacy.CZsp51nD.js"],function(e,t){"use strict";var n,u,o,l,i,r,s,a,c,v;return{setters:[e=>{n=e.q,u=e.ab,o=e.d,l=e.k,i=e.v,r=e.aA,s=e.b,a=e.D},e=>{c=e.B,v=e.c}],execute:function(){const t={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:l(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function f(e){return!(!e||!e.then)}e("A",o({compatConfig:{MODE:3},name:"ActionButton",props:t,setup(e,t){let{slots:o}=t;const l=n(!1),p=n(),d=n(!1);let g;const m=(()=>{const e=n(!1);return u(()=>{e.value=!0}),e})();i(()=>{e.autofocus&&(g=setTimeout(()=>{var e,t;return null===(t=null===(e=r(p.value))||void 0===e?void 0:e.focus)||void 0===t?void 0:t.call(e)}))}),u(()=>{clearTimeout(g)});const y=function(){for(var t,n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];null===(t=e.close)||void 0===t||t.call(e,...u)},h=t=>{const{actionFn:n}=e;if(l.value)return;if(l.value=!0,!n)return void y();let u;if(e.emitEvent){if(u=n(t),e.quitOnNullishReturnValue&&!f(u))return l.value=!1,void y(t)}else if(n.length)u=n(e.close),l.value=!1;else if(u=n(),!u)return void y();(e=>{f(e)&&(d.value=!0,e.then(function(){m.value||(d.value=!1),y(...arguments),l.value=!1},e=>(m.value||(d.value=!1),l.value=!1,Promise.reject(e))))})(u)};return()=>{const{type:t,prefixCls:n,buttonProps:u}=e;return s(c,a(a(a({},v(t)),{},{onClick:h,loading:d.value,prefixCls:n},u),{},{ref:p}),o)}}}))}}});
